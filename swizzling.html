<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OldSchool Library: About Image Swizzling in OSLib</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">OldSchool Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',true);
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('swizzling.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">About Image Swizzling in OSLib</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>In the OSLib documentation, you will often come across a term called "swizzling." This concept is particularly important when working with images in the PSP's graphics system, and understanding it can greatly impact the performance of your application.</p>
<p><b>Image</b> <b>swizzling</b> is a process that reorganizes the arrangement of pixels in an image to better align with the memory access patterns of the graphics processor (GPU). The GPU reads image data in a specific way, and swizzling ensures that the pixels are ordered in a manner that optimizes this reading process. As a result, the GPU can render swizzled images much faster than unswizzled ones, leading to significant performance improvements in graphics rendering, particularly when images are stored in RAM and frequently accessed.</p>
<p>However, this performance gain comes with certain drawbacks. When an image is swizzled, the pixels are no longer stored contiguously in memory as they would be in a traditional, linear image. This discontinuity complicates direct pixel manipulation because the straightforward method of accessing a pixel by its x and y coordinates no longer applies. Instead, you would need to perform complex calculations to determine the actual position of a specific pixel within the swizzled data. This complexity can make tasks like real-time image modification or pixel-based effects much more challenging and computationally expensive.</p>
<p>For example, if you are working on an old-school framebuffer demo or any other application where you need to access and modify individual pixels frequently and directly, you would benefit from using <b>unswizzled</b> (normal) images. Unswizzled images store pixel data in a linear fashion, making it easy to access and manipulate individual pixels using simple arithmetic based on their coordinates.</p>
<p>On the other hand, if your images are loaded from files and are intended primarily for rendering rather than modification, it is advisable to use <b>swizzled</b> images. The performance benefits are particularly noticeable when these images are placed in RAM, as swizzled images allow the GPU to render them more efficiently, reducing the load on the system and enabling smoother graphics performance.</p>
<p>In OSLib, the image loading process is designed with this in mind. By default, when you load an image from a file using functions like <a class="el" href="group__image.html#ga83fb280299ba7e58432b2c89a6b60a92" title="Loads an image from a file, allowing selection of its location and pixel format.">oslLoadImageFile</a>, OSLib will automatically swizzle the image data to optimize rendering performance. However, if you manually create an image using functions like <a class="el" href="group__image.html#gab3fbd537c4d170ac5a92bd89906e4874" title="Creates an empty image in OSLib.">oslCreateImage</a>, OSLib will not swizzle the image by default, giving you the flexibility to choose the format that best suits your needs.</p>
<p>If, for any reason, you prefer not to have the images swizzled automatically when loading them from files, you can disable this behavior. By passing the <code>OSL_UNSWIZZLED</code> flag during the image loading process, you can instruct OSLib to keep the image in its unswizzled state, which might be preferable for certain applications where direct pixel manipulation is required. For more information on how to control this behavior, see oslSetImageAutoSwizzle. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
