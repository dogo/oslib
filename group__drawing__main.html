<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OldSchool Library: Main</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">OldSchool Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',true);
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__drawing__main.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Main<div class="ingroups"><a class="el" href="group__drawing.html">Drawing</a></div></div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga28796a7eaa209195f3e6eebf54692799" id="r_ga28796a7eaa209195f3e6eebf54692799"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga28796a7eaa209195f3e6eebf54692799">oslInitGfx</a> (int pixelFormat, int bDoubleBuffer)</td></tr>
<tr class="separator:ga28796a7eaa209195f3e6eebf54692799"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee41f26ce4d9733a781efa9c0c2b9543" id="r_gaee41f26ce4d9733a781efa9c0c2b9543"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaee41f26ce4d9733a781efa9c0c2b9543">oslStartDrawing</a> ()</td></tr>
<tr class="memdesc:gaee41f26ce4d9733a781efa9c0c2b9543"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the drawing process with OSLib. Call this function before performing any drawing operations.  <br /></td></tr>
<tr class="separator:gaee41f26ce4d9733a781efa9c0c2b9543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga31e0a6c7bb6f568ff89bb14b1ad33924" id="r_ga31e0a6c7bb6f568ff89bb14b1ad33924"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga31e0a6c7bb6f568ff89bb14b1ad33924">oslEndDrawing</a> ()</td></tr>
<tr class="separator:ga31e0a6c7bb6f568ff89bb14b1ad33924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a66d3cdc0e26ae1a38cc0cc75b23419" id="r_ga1a66d3cdc0e26ae1a38cc0cc75b23419"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1a66d3cdc0e26ae1a38cc0cc75b23419">oslSyncDrawing</a> ()</td></tr>
<tr class="separator:ga1a66d3cdc0e26ae1a38cc0cc75b23419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23c78b842cc2a53ed44e1845400259c9" id="r_ga23c78b842cc2a53ed44e1845400259c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga23c78b842cc2a53ed44e1845400259c9">oslSwapBuffers</a> ()</td></tr>
<tr class="separator:ga23c78b842cc2a53ed44e1845400259c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab70e06bf02e845eebea2982ffc8a70b1" id="r_gab70e06bf02e845eebea2982ffc8a70b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab70e06bf02e845eebea2982ffc8a70b1">oslEndGfx</a> ()</td></tr>
<tr class="separator:gab70e06bf02e845eebea2982ffc8a70b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga39abb0fdf82305563299fc79119d79de" id="r_ga39abb0fdf82305563299fc79119d79de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga39abb0fdf82305563299fc79119d79de">oslSetSysDisplayListSize</a> (int newSize)</td></tr>
<tr class="separator:ga39abb0fdf82305563299fc79119d79de"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Core functions and configuration routines for drawing in OSLib. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga28796a7eaa209195f3e6eebf54692799" name="ga28796a7eaa209195f3e6eebf54692799"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga28796a7eaa209195f3e6eebf54692799">&#9670;&#160;</a></span>oslInitGfx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void oslInitGfx </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>pixelFormat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>bDoubleBuffer</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initializes the graphical system for OSLib.</p>
<p>This function sets up the rendering environment, including screen resolution, double buffering, and various graphical settings. It can be called multiple times, but note that all images stored in video memory (OSL_IN_VRAM) will be invalidated after calling this function, so ensure you delete all such images beforehand to avoid unexpected behavior.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pixelFormat</td><td>The pixel format for the screen. Options include:<ul>
<li>OSL_PF_8888: 32-bit color mode, providing high precision and smooth gradients. However, it requires twice the memory of the 16-bit mode (1088 kB in double buffer mode, half in single buffer mode) and is slower due to higher bandwidth usage.</li>
<li>OSL_PF_5650: 16-bit color mode, limited to 65,000 colors instead of 16 million. It requires 544 kB in double buffer mode and half in single buffer mode. This is the recommended mode for most applications. You can enable dithering with <code>oslSetDithering</code> to simulate more colors.</li>
</ul>
</td></tr>
    <tr><td class="paramname">bDoubleBuffer</td><td>Set to TRUE (1) to enable double buffering, which is recommended for games to prevent flickering. Refer to <code>oslSwapBuffers</code> for more information on double buffering. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaee41f26ce4d9733a781efa9c0c2b9543" name="gaee41f26ce4d9733a781efa9c0c2b9543"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaee41f26ce4d9733a781efa9c0c2b9543">&#9670;&#160;</a></span>oslStartDrawing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void oslStartDrawing </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the drawing process with OSLib. Call this function before performing any drawing operations. </p>
<p>This function sets up the necessary GPU state and ensures that drawing operations are properly initialized. It also resets the current texture and palette to null and starts a new command list for rendering.</p>
<dl class="section note"><dt>Note</dt><dd>If drawing has already started, this function will do nothing.</dd>
<dd>
The commented section related to intraFont initialization is left out because it could interfere with user applications. If you need specific matrix configurations, consider setting them in your application. </dd></dl>

</div>
</div>
<a id="ga31e0a6c7bb6f568ff89bb14b1ad33924" name="ga31e0a6c7bb6f568ff89bb14b1ad33924"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga31e0a6c7bb6f568ff89bb14b1ad33924">&#9670;&#160;</a></span>oslEndDrawing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void oslEndDrawing </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Ends drawing. Call this function once you've finished rendering. This command waits for the GPU to finish rendering, which can be slow. OSLib may use this remaining time to process and output sound. </p>

</div>
</div>
<a id="ga1a66d3cdc0e26ae1a38cc0cc75b23419" name="ga1a66d3cdc0e26ae1a38cc0cc75b23419"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a66d3cdc0e26ae1a38cc0cc75b23419">&#9670;&#160;</a></span>oslSyncDrawing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void oslSyncDrawing </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Waits for the GPU (Graphics Processing Unit) to complete its current rendering tasks. Since rendering occurs in parallel with CPU operations, there is a risk of modifying an image that the GPU is still processing, leading to incorrect render output.</p>
<p>Calling <code>oslSyncDrawing</code> ensures that the GPU has finished its operations, allowing you to safely modify graphical data afterward. However, be aware that synchronizing with the GPU can be very slow, as it waits for the GPU to complete all pending tasks. Use this function only when absolutely necessary and when you fully understand its performance implications.</p>
<p><b>Note:</b> The number of drawing commands you can issue between <code>oslStartDrawing</code> and <code>oslEndDrawing</code> is limited by the size of the display list, where these commands are stored before being sent to the GPU. If the display list overflows, your program may crash or exhibit erratic behavior.</p>
<p><code>oslSyncDrawing</code> resets the display list after waiting for the GPU to complete rendering, similar to what <code>oslStartDrawing</code> and <code>oslEndDrawing</code> do. It is a faster alternative for syncing without initiating the end and start of a frame. If you encounter crashes due to extensive drawing commands, consider inserting a call to <code>oslSyncDrawing</code> to mitigate the issue. </p>

</div>
</div>
<a id="ga23c78b842cc2a53ed44e1845400259c9" name="ga23c78b842cc2a53ed44e1845400259c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga23c78b842cc2a53ed44e1845400259c9">&#9670;&#160;</a></span>oslSwapBuffers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void oslSwapBuffers </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Swaps the buffers.</p>
<p>In double buffering mode, this function should be called once per frame. Double buffering prevents flickering by maintaining two buffers: one that is displayed on the screen and one that is used for drawing. Once drawing is complete, the buffers are swapped, displaying the newly rendered frame and hiding the previous one for the next drawing operation. </p>

</div>
</div>
<a id="gab70e06bf02e845eebea2982ffc8a70b1" name="gab70e06bf02e845eebea2982ffc8a70b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab70e06bf02e845eebea2982ffc8a70b1">&#9670;&#160;</a></span>oslEndGfx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void oslEndGfx </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Ends the graphical context, releasing memory used for the display list.</p>
<p>After calling this function, all images placed in video memory (OSL_IN_VRAM) become invalid. Ensure that you release ALL such images before calling this function, as they will need to be reloaded after initializing graphics again with oslInitGfx. </p>

</div>
</div>
<a id="ga39abb0fdf82305563299fc79119d79de" name="ga39abb0fdf82305563299fc79119d79de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga39abb0fdf82305563299fc79119d79de">&#9670;&#160;</a></span>oslSetSysDisplayListSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void oslSetSysDisplayListSize </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>newSize</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets the display list size.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newSize</td><td>The new size of the display list in bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>This is an advanced command. The default size is 1 MB. Do not use this function unless you fully understand the implications. After calling this function, you must call oslStartDrawing before beginning to draw again. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
